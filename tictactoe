#include <iostream>
#include <cstring>
#include <stdlib.h>
using namespace std;


string get = " ";
string player1="";
string player2="";
int turn= 0;
int x=0;
int y=0;
int gameon = 1;
int invalid = 0;

string array[5][5]{{"1","|","2","|","3"},
                        {"-"," ","-"," ","-"},
                        {"4","|","5","|","6"},
                        {"-"," ","-"," ","-"},
                        {"7","|","8","|","9"}};
                        

void getname()
{
    cout<<"What's your name, Player 1?"<<endl;
    cin>>player1;
    system("clear");
    cout<<"What's your name, Player 2?"<<endl;
    cin>>player2;
}

void check()
{
    invalid=0;
    while(x<6)
    {  
        if (x==5)
        {
            if(y<5)
            {
                cout<<endl;
                x=0;
                y++;
                    if(y==5)
                    {
                        break;   
                    }
            }
        }else 
        { 
            int ch=0;
            while(ch==0)
            {
                string n=array[y][x];
                if (get!=n)
                {
                    ch=1;
                }
               if(get == n)
               {
                  if(turn==0)
                  {
                    array[y][x]="x";
                  }
                  else
                  {
                      array[y][x]="o";
                  }
                  x=6;
                  break;
               }
               
               else
               {
                   system("clear");
                   cout<<"not valid, try again"<<endl;
                   invalid =1;
                   x=6;
               }
               break;
            }
            
        }
    }
}

 void board() //prints board 
  {
int y=0;
int x=0;
    system("clear");
    while(x<6)
    {  
        if (x==5)
        {
            if(y<5)
            {
                cout<<endl;
                x=0;
                y++;
                    if(y==5)
                    {
                        x=6;
                        break;   
                    }
            }
        }else {cout<<array[y][x];x++;}
    }
  }
  
  void action() //player get move
  {
          if (turn==0)
          {
              Again:
              x=0;
              y=0;
              cout<<endl<<player1<<"'s turn, select a number from the board"<<endl;
              cin>>get;
              check();
              if(invalid==1)
              {
                  goto Again;
              }
              turn++;
          }
            else
            {
              Againn:
              x=0;
              y=0;
              cout<<endl<<player2<<"'s turn, select a number from the board"<<endl;
              cin>>get;
              check();
              if (invalid==1)
              {
                  goto Againn;
              }
              turn = 0;
            }
      
  }
 int main()
{
  getname();
while(gameon == 1)
{
    board();
    x=0;
    y=0;
    action();
    system("clear");
}
    return  0;
}
